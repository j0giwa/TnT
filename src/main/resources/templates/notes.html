<!DOCTYPE html>
<html data-bs-theme="dark" lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments/baselayout::htmlhead_postlogin(pageTitle='Notes | TnT')}"></head>

<body style="background: rgb(33, 37, 41);">
	<div id="wrapper" style="padding-bottom: 100%;">

		<nav th:replace="~{fragments/baselayout::sidebar}"></nav>

		<div id="content-wrapper">

			<nav th:replace="~{fragments/baselayout::topbar}"></nav>

			<div class="container" style="margin-top: 95px;">
				<header>
					<div>
						<p style="color: var(--bs-body-bg);font-weight: bold;">Let's go!!</p>
					</div>
				</header>

				<div th:if="${editing} == false">
					<form th:replace="~{fragments/note::noteForm}" />
				</div>
				<div th:if="${editing} == true">
					<form th:replace="~{fragments/note::noteEditForm}" />
				</div>

				<div th:unless="${editing} == true" class="container" style="margin-top: 95px;">
					<h1>Notes</h1>
					<ul class="list-unstyled" th:each="note: ${notes}">
						<li
							th:replace="~{fragments/note::noteItem(id=${note.id}, title=${note.name}, subtitle=${note.subtitle}, content=${note.content})}">
						</li>
					</ul>
				</div>

			</div>
		</div>

		<script>
			// Get all elements with the class "contentToParse"
			var elements = document.getElementsByClassName('md-content');

			// Loop through each element and parse its content

			for (var i = 0; i < elements.length; i++) {

				elements[i].innerHTML = marked.parse(elements[i].innerHTML);

			}

		</script>

</body>

</html>